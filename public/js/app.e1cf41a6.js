(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0115":function(e,t,n){"use strict";n("3b58")},"02fc":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"0359":function(e,t,n){e.exports=n.p+"img/user-icon.4968cec9.png"},"05bb":function(e,t,n){},"0a93":function(e,t,n){},"0ad4":function(e,t,n){"use strict";n("4240")},"0e32":function(e,t,n){"use strict";n("9294")},"116f":function(e,t,n){"use strict";n("adee")},"137e":function(e,t,n){"use strict";n("17bb")},"14c6":function(e,t,n){},1613:function(e,t,n){"use strict";n("abb7")},"17bb":function(e,t,n){},"1e66":function(e,t,n){"use strict";n("25bb")},"1eb8":function(e,t,n){"use strict";n("b1e0")},2039:function(e,t,n){"use strict";n("3ed3")},"23a0":function(e,t,n){},"25bb":function(e,t,n){},"2ae8":function(e,t,n){"use strict";n("cb65")},"2ffe":function(e,t,n){"use strict";n("4a53")},3318:function(e,t,n){},"3ab5":function(e,t,n){"use strict";n("de20")},"3b58":function(e,t,n){},"3bf2":function(e,t,n){"use strict";n("ef4f")},"3ed3":function(e,t,n){},"3f25":function(e,t,n){"use strict";n("da9c")},4240:function(e,t,n){},"46f6":function(e,t,n){},"4a53":function(e,t,n){},"4ea5":function(e,t,n){},"50ad":function(e,t,n){},5643:function(e,t,n){},5680:function(e,t,n){"use strict";n("5c3c")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i={name:"App",components:{}},o=i,c=(n("034f"),n("2877")),u=Object(c["a"])(o,a,r,!1,null,null,null),l=u.exports,m=n("8c4f"),d=n("2f62"),f=n("f13c"),p=n.n(f),v=n("6c42"),h=n("1dce"),g=n.n(h);function C(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}var _={created:function(){var e=C(this);e&&(document.title=e)}},y=(n("f5df1"),n("15f5"),n("5b0d"),n("4ea5"),n("da96"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn add-btn",on:{click:function(t){return t.preventDefault(),e.click.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-plus"})])}),$=[],b={name:"AddButton",methods:{click:function(){this.$emit("btn-click")}}},k=b,w=(n("bf4e"),Object(c["a"])(k,y,$,!1,null,"04b44e75",null)),I=w.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"message"},[e._v(" "+e._s(e.message)+" ")]),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"btn link-unstyled btn-confirm",attrs:{href:"",id:"confirm"},on:{click:function(t){return t.preventDefault(),e.confirm.apply(null,arguments)}}},[e._v(" "+e._s(e.buttonText)+" ")]),n("a",{staticClass:"btn link-unstyled btn-cancel",attrs:{href:"",id:"cancel",title:"Cancel"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[e._v(" Cancel ")])])])},q=[],x={name:"ConfirmBox",props:["message","buttonText"],methods:{confirm:function(){this.$emit("confirm")},cancel:function(){this.$emit("cancel")}}},M=x,L=(n("c36e"),Object(c["a"])(M,O,q,!1,null,"6e206c45",null)),P=L.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"backdrop"},[e._t("default")],2)},T=[],E={name:"ModalComponent"},j=E,D=(n("0ad4"),Object(c["a"])(j,A,T,!1,null,"5768bdd0",null)),N=D.exports;s["a"].use(m["a"]),s["a"].use(d["a"]),s["a"].use(p.a),s["a"].use(v["b"],{position:v["a"].TOP_RIGHT,timeout:2e3}),s["a"].use(g.a),s["a"].mixin(_),s["a"].component("AddButton",I),s["a"].component("ConfirmBox",P),s["a"].component("ModalComponent",N);var S=n("5530"),U=(n("b0c0"),n("d3b7"),n("bc3a")),F=n.n(U),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requiresAuth,n=void 0!==t&&t,s={baseURL:"/api",headers:{}};n&&void 0!==fe.state.authentication&&(s.headers.Authorization=fe.state.authentication.token);var a=F.a.create(s);return a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)})),a},H=function(e){return R().post("/auth/usermanagement/login",Object(S["a"])({},e))},B="token",V="username",z="name",G="role",J={state:{token:localStorage.getItem(B)||"",username:localStorage.getItem(V)||"",name:localStorage.getItem(z)||"",role:localStorage.getItem(G)||"",confirmLogout:!1},getters:{isAuthenticated:function(e){return!!e.token}},mutations:{setToken:function(e,t){e.token=t.token},setUsername:function(e,t){e.username=t.username},setName:function(e,t){e.name=t.name},setRole:function(e,t){e.role=t.role},setConfirmLogout:function(e,t){e.confirmLogout=t.confirmLogout}},actions:{login:function(e,t){return H(t.credentials).then((function(t){var n=t.token,s=t.username,a=t.name,r=t.role;return localStorage.setItem(B,n),localStorage.setItem(V,s),localStorage.setItem(z,a),localStorage.setItem(G,r),e.commit({type:"setToken",token:n}),e.commit({type:"setUsername",username:s}),e.commit({type:"setName",name:a}),e.commit({type:"setRole",role:r}),s}))},confirmLogout:function(e,t){e.commit({type:"setConfirmLogout",confirmLogout:t.confirmLogout})},logout:function(e){return localStorage.removeItem(B),localStorage.removeItem(V),localStorage.removeItem(z),localStorage.removeItem(G),e.commit("setToken",""),e.commit("setUsername",""),e.commit("setName",""),e.commit("setRole",""),Promise.resolve()}}},W=J,Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requiresAuth,n=void 0!==t&&t,s={baseURL:"/api",headers:{}};n&&void 0!==fe.state.customerAuth&&(s.headers.Authorization=fe.state.customerAuth.token);var a=F.a.create(s);return a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)})),a},Q=function(e){return Z().post("/auth/customer/register",Object(S["a"])({},e))},Y=function(e){return Z().post("/auth/customer/login",Object(S["a"])({},e))},K="cust_token",X="cust_email",ee="cust_name",te={state:{token:localStorage.getItem(K)||"",email:localStorage.getItem(X)||"",name:localStorage.getItem(ee)||""},getters:{isCustomerLoggedIn:function(e){return!!e.token}},mutations:{setToken:function(e,t){e.token=t.token},setEmail:function(e,t){e.email=t.email},setName:function(e,t){e.name=t.name}},actions:{customerLogin:function(e,t){return Y(t.credentials).then((function(t){var n=t.token,s=t.email,a=t.name;return localStorage.setItem(K,n),localStorage.setItem(X,s),localStorage.setItem(ee,a),e.commit({type:"setToken",token:n}),e.commit({type:"setEmail",email:s}),e.commit({type:"setName",name:a}),Promise.resolve(s)}))},customerLogout:function(e){return localStorage.removeItem(K),localStorage.removeItem(X),localStorage.removeItem(ee),e.commit("setToken",""),e.commit("setEmail",""),e.commit("setName",""),Promise.resolve()}}},ne=te,se=(n("159b"),{state:{listener:{},orders:{}},getters:{orders:function(e){return e.orders}},mutations:{setListener:function(e,t){e.listener=t.listener},setOrder:function(e,t){if("completed"!==t.order.status)return s["a"].set(e.orders,t.order._id,t.order);s["a"].delete(e.orders,t.order._id)},setOrders:function(e,t){t.order.forEach((function(t){s["a"].set(e.orders,t._id,t)}))}},actions:{track_orders:function(e,t){e.commit({type:"setListener",listener:t.listener})},order_updated:function(e,t){void 0===t.order.length?e.commit({type:"setOrder",order:t.order}):e.commit({type:"setOrders",order:t.order})},stop_tracking:function(e){e.state.listener&&e.state.listener.close()}}}),ae=se,re=function(){return Z().get("/auth/customer/session",{withCredentials:!0})},ie=function(){return Z().get("/cart/",{withCredentials:!0})},oe=function(e,t){return Z().patch("/cart/".concat(e,"?action=add_to_cart"),Object(S["a"])({},t))},ce=function(e,t){return Z().patch("/cart/".concat(e,"?action=remove_from_cart"),Object(S["a"])({},t))},ue="cartId",le={state:{cartId:localStorage.getItem(ue)||"",cartItem:{},cart:{}},getters:{cart:function(e){return e.cart},cartLength:function(e){return void 0!==e.cart.items?e.cart.items.reduce((function(e,t){return e+t.quantity}),0):""}},mutations:{setCartId:function(e,t){e.cartId=t.cartId},setCartItem:function(e,t){e.cartItem[t.key]=t.value},setCart:function(e,t){e.cart=t.cart},resetCartItem:function(e,t){e.cartItem=t.cartItem}},actions:{loadSession:function(e){return re().then((function(){return ie()})).then((function(t){return e.commit({type:"resetCartItem",cartItem:{}}),t.items.forEach((function(t){e.commit({type:"setCartItem",key:t.item._id,value:t._id})})),e.commit({type:"setCart",cart:t}),e.commit({type:"setCartId",cartId:t._id}),localStorage.setItem(ue,t._id),Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},addToCart:function(e,t){var n,s=t.item;return void 0===t.item._id&&(n=e.state.cartItem[s.item]),void 0!==n&&(s._id=n),t.quantity+s.quantity<=0?ce(e.state.cartId,s).then((function(t){e.commit({type:"setCart",cart:t})})):oe(e.state.cartId,s).then((function(t){var n=t.cart,a=t.cartItem;e.commit({type:"setCartItem",key:s.item,value:a._id}),e.commit({type:"setCart",cart:n})}))}}},me=le;s["a"].use(d["a"]);var de=new d["a"].Store({modules:{authentication:W,customerAuth:ne,cart:me,orders:ae}}),fe=de,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"dashboard"}},[n("SidePanel"),n("MainPanel")],1)},ve=[],he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mainpanel"},[n("TopPanel"),n("ContentPanel")],1)},ge=[],Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-panel"})},_e=[],ye={name:"TopPanel",data:function(){return{showDropdown:!1}},methods:{toggleHamburger:function(){console.log("toggled")},toggleDropdown:function(){this.showDropdown=!this.showDropdown}}},$e=ye,be=(n("71fb"),Object(c["a"])($e,Ce,_e,!1,null,"8bb0a8e6",null)),ke=be.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-panel"},[e.showConfirm?n("modal-component",[n("confirm-box",{attrs:{message:"Do you want to log out?",buttonText:"Logout"},on:{cancel:e.cancelLogout,confirm:e.logout}})],1):e._e(),n("router-view")],1)},Ie=[],Oe={name:"ContentPanel",methods:{logout:function(){var e=this;this.$store.dispatch({type:"logout"}).then((function(){e.cancelLogout(),e.$router.push({name:"admin-login"})})).catch((function(t){e.$toast.error("".concat(t.message," while logging out"))}))},cancelLogout:function(){this.$store.dispatch({type:"confirmLogout",confirmLogout:!1})}},computed:{showConfirm:function(){return this.$store.state.authentication.confirmLogout}}},qe=Oe,xe=(n("6231"),Object(c["a"])(qe,we,Ie,!1,null,"6e8ff565",null)),Me=xe.exports,Le={name:"MainPanel",components:{TopPanel:ke,ContentPanel:Me}},Pe=Le,Ae=(n("c696"),Object(c["a"])(Pe,he,ge,!1,null,"1a5bd8a6",null)),Te=Ae.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidepanel"},[n("div",{staticClass:"user-details"},[n("div",{staticClass:"greeting"},[e._v(" "+e._s(e.name)+" ")]),n("a",{staticClass:"logout",attrs:{href:"",id:"logout"},on:{click:function(t){return t.preventDefault(),e.confirmLogout.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-sign-out-alt"}),n("span",[e._v("logout")])])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"dashboard-home"},"active-class":"active",exact:""}},[n("i",{staticClass:"fas fa-home"}),n("span",[e._v("Home")])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"dashboard-orders"},"active-class":"active",exact:""}},[n("i",{staticClass:"fas fa-shopping-cart"}),n("span",[e._v("Orders")])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"dashboard-menus"},"active-class":"active"}},[n("i",{staticClass:"fas fa-utensils"}),n("span",[e._v("Menu")])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"dashboard-users"},"active-class":"active"}},[n("i",{staticClass:"fas fa-users"}),n("span",[e._v("Users")])])],1)},je=[],De={name:"SidePanel",methods:{confirmLogout:function(){this.$store.dispatch({type:"confirmLogout",confirmLogout:!0})}},computed:{name:function(){return this.$store.state.authentication.name}}},Ne=De,Se=(n("f05b"),Object(c["a"])(Ne,Ee,je,!1,null,"3ac0914b",null)),Ue=Se.exports,Fe={name:"AdminDashboard",title:"Restaurant Dashboard",components:{MainPanel:Te,SidePanel:Ue}},Re=Fe,He=(n("3ab5"),Object(c["a"])(Re,pe,ve,!1,null,"e1aa430c",null)),Be=He.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"restaurant-management"},[n("h2",{staticClass:"heading heading-secondary"},[e._v("Menu")]),n("div",{staticClass:"menu-list"},[e._l(Object.keys(e.menus),(function(t){return n("MenuCard",{key:t,attrs:{menu:e.menus[t]},on:{"delete-menu":e.deleteMenuClicked}})})),e.loading?n("div",{staticClass:"message loading-message"},[e._v(" Loading Menus ... ")]):e._e(),0!==Object.keys(e.menus).length||e.loading?e._e():n("div",{staticClass:"message empty-message"},[e._v(" No Menus Found. Get started by adding a new Menu ")])],2),e.addNewMenu?n("ModalComponent",[n("AddEditMenu",{attrs:{title:"Create Menu"},on:{"save-menu":e.saveMenu,cancel:e.cancelAdd}})],1):e._e(),e.showDeleteConfirm?n("ModalComponent",[n("ConfirmBox",{attrs:{message:"Are you sure you want to delete "+e.menuToDelete.name+" menu?",buttonText:"Delete Menu"},on:{confirm:e.confirmDelete,cancel:e.cancelDelete}})],1):e._e(),n("AddButton",{on:{"btn-click":e.addMenu}})],1)},ze=[],Ge=function(){return R({requiresAuth:!0}).get("/restaurant/menu")},Je=function(e){return R({requiresAuth:!0}).get("/restaurant/menu/".concat(e))},We=function(e,t){return R({requiresAuth:!0}).patch("/restaurant/menu/".concat(e,"?action=add_menu_item"),t)},Ze=function(e,t){return R({requiresAuth:!0}).patch("/restaurant/menu/".concat(e,"?action=remove_menu_item"),{menuItem:t})},Qe=function(e,t){return R({requiresAuth:!0}).patch("/restaurant/menu/".concat(e),t)},Ye=function(e){return R({requiresAuth:!0}).post("/restaurant/menu",e)},Ke=function(e){return R({requiresAuth:!0}).delete("/restaurant/menu/".concat(e))},Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-heading"},[n("div",{staticClass:"heading-container"},[n("h2",{staticClass:"heading"},[e._v(e._s(e.menu.name))])])]),n("div",{staticClass:"card-details"},[n("div",{staticClass:"card-detail"},[n("h3",[e._v("Availability")]),n("div",{staticClass:"card-detail-data"},e._l(7,(function(t){return n("span",{key:t-1,staticClass:"day",class:{"day-active":e.menu.availability[t-1]}},[e._v(e._s(e.days[t-1]))])})),0)]),n("div",{staticClass:"card-detail"},[n("h3",[e._v("Timing")]),n("div",{staticClass:"card-detail-data"},[n("span",[e._v(e._s(e.timeString))])])])]),n("router-link",{staticClass:"link-unstyled btn btn-primary",attrs:{to:{name:"dashboard-menu-detail",params:{menuId:e.menu._id}}}},[e._v(" View ")])],1)},et=[];n("99af"),n("fb6a");function tt(e){return("0"+e).slice(-2)}function nt(e,t){return e+":"+t}var st={name:"MenuCard",props:["menu"],data:function(){return{days:["M","T","W","T","F","S","S"],showOptions:!1}},computed:{timeString:function(){var e=this.menu.openTime,t=this.menu.closeTime;return"".concat(nt(tt(e.hours),tt(e.minutes))," - ").concat(nt(tt(t.hours),tt(t.minutes)))}},methods:{deleteMenu:function(){this.$emit("delete-menu",this.menu)}}},at=st,rt=(n("f597"),Object(c["a"])(at,Xe,et,!1,null,"6b23ef94",null)),it=rt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-wrapper"},[n("h1",{staticClass:"heading"},[e._v(" "+e._s(e.title)+" ")]),n("form",{attrs:{novalidate:""}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",class:{error:e.$v.form.name.$error},attrs:{type:"text",placeholder:"Menu Name"},domProps:{value:e.form.name},on:{blur:function(t){return e.$v.form.name.$touch()},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.$v.form.name.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"openingTime"}},[e._v("Open Time:")]),n("fieldset",{staticClass:"form-element-set",attrs:{id:"openingTime"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.openTime.hours,expression:"form.openTime.hours"}],staticClass:"form-element",class:{error:e.$v.form.openTime.hours.$error},attrs:{name:"openTimeHour"},on:{blur:function(t){return e.$v.form.openTime.hours.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.openTime,"hours",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--hour--")]),e._l(24,(function(t){return n("option",{key:t-1,domProps:{value:t-1}},[e._v(e._s(t-1))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.openTime.minutes,expression:"form.openTime.minutes"}],staticClass:"form-element",class:{error:e.$v.form.openTime.minutes.$error},attrs:{name:"openTimeMinutes"},on:{blur:function(t){return e.$v.form.openTime.minutes.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.openTime,"minutes",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--minutes--")]),e._l(60,(function(t){return n("option",{key:t-1,domProps:{value:t-1}},[e._v(e._s(t-1))])}))],2)])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"closeingTime"}},[e._v("Close Time:")]),n("fieldset",{staticClass:"form-element-set",attrs:{id:"closeingTime"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.closeTime.hours,expression:"form.closeTime.hours"}],staticClass:"form-element",class:{error:e.$v.form.closeTime.hours.$error},attrs:{name:"closeTimeHour"},on:{blur:function(t){return e.$v.form.closeTime.hours.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.closeTime,"hours",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--hour--")]),e._l(24,(function(t){return n("option",{key:t-1,domProps:{value:t-1}},[e._v(e._s(t-1))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.closeTime.minutes,expression:"form.closeTime.minutes"}],staticClass:"form-element",class:{error:e.$v.form.closeTime.minutes.$error},attrs:{name:"closeTimeMinutes"},on:{blur:function(t){return e.$v.form.closeTime.minutes.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.closeTime,"minutes",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--minutes--")]),e._l(60,(function(t){return n("option",{key:t-1,domProps:{value:t-1}},[e._v(e._s(t-1))])}))],2)])]),n("div",{staticClass:"form-group avail"},[n("p",[e._v("Availability")]),n("div",{},e._l(7,(function(t){return n("a",{key:t-1,staticClass:"day",class:{"day-active":e.form.availability[t-1]},on:{click:function(n){return n.preventDefault(),e.changeAvailability(t-1)}}},[e._v(e._s(e.days[t-1]))])})),0)]),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn-icon",attrs:{href:"",title:"Save Menu"},on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-check-circle"})]),n("a",{staticClass:"link-unstyled btn-icon btn-cancel",attrs:{href:"",title:"Cancel"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[n("i",{staticClass:"far fa-times-circle"})])])])])},ct=[],ut=n("2909"),lt=(n("b64b"),n("b5ae")),mt={name:"AddEditMenu",props:{menu:{default:function(){return{}}},title:{default:"Create Menu"}},data:function(){return{form:{name:"",openTime:{hours:"",minutes:""},closeTime:{hours:"",minutes:""},availability:[!0,!0,!0,!0,!0,!0,!0]},days:["M","T","W","T","F","S","S"]}},validations:{form:{name:{required:lt["required"]},openTime:{hours:{required:lt["required"]},minutes:{required:lt["required"]}},closeTime:{hours:{required:lt["required"]},minutes:{required:lt["required"]}}}},created:function(){0!==Object.keys(this.menu).length&&(this.form.name=this.menu.name,this.form.openTime=Object(S["a"])({},this.menu.openTime),this.form.closeTime=Object(S["a"])({},this.menu.closeTime),this.form.availability=Object(ut["a"])(this.menu.availability))},methods:{save:function(){this.$v.form.$touch(),this.$v.form.$invalid?this.$toast.error("Please check the inputs"):this.checkTime(this.form.openTime,this.form.closeTime)?this.$emit("save-menu",this.form):this.$toast.error("Close time not valid")},checkTime:function(e,t){return!(t.hours<e.hours)&&!(t.hours===e.hours&&t.minutes<=e.minutes)},cancel:function(){this.$emit("cancel")},changeAvailability:function(e){this.$set(this.form.availability,e,!this.form.availability[e])}}},dt=mt,ft=(n("c794"),Object(c["a"])(dt,ot,ct,!1,null,"18e952d6",null)),pt=ft.exports,vt={name:"RestaurantManagement",title:"Menu Management",components:{MenuCard:it,AddEditMenu:pt},data:function(){return{menus:{},addNewMenu:!1,menuToDelete:{},showDeleteConfirm:!1,loading:!1}},created:function(){var e=this;this.loading=!0,Ge().then((function(t){t.forEach((function(t){e.$set(e.menus,t._id,t)})),e.loading=!1})).catch((function(t){e.loading=!1,e.$toast.error("".concat(t.message," while loading menus"))}))},beforeRouteEnter:function(e,t,n){"admin"===fe.state.authentication.role?n():n({name:t.name})},methods:{addMenu:function(){this.addNewMenu=!0},cancelAdd:function(){this.addNewMenu=!1},saveMenu:function(e){var t=this;Ye(e).then((function(n){t.$set(t.menus,n._id,n),t.cancelAdd(),t.$toast.success("".concat(e.name," Menu Added"))})).catch((function(e){t.$toast.error("".concat(e.message," while adding Menu"))}))},deleteMenuClicked:function(e){this.showDeleteConfirm=!0,this.menuToDelete=e},cancelDelete:function(){this.showDeleteConfirm=!1,this.menuToDelete={}},confirmDelete:function(){var e=this;Ke(this.menuToDelete._id).then((function(){e.showDeleteConfirm=!1,e.$toast.success("".concat(e.menuToDelete.name," deleted")),e.$delete(e.menus,e.menuToDelete._id),e.menuToDelete={}})).catch((function(t){e.$toast.error("".concat(t.message," while adding Menu"))}))}}},ht=vt,gt=(n("2ae8"),Object(c["a"])(ht,Ve,ze,!1,null,"16e1de66",null)),Ct=gt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("h2",{staticClass:"heading"},[e._v("Active Orders")]),n("div",{staticClass:"orders"},e._l(Object.keys(e.orders),(function(t){return n("OrderCard",{key:t,attrs:{order:e.orders[t]}})})),1),0===Object.keys(e.orders).length?n("div",{staticClass:"empty"},[e._v("No Active Orders")]):e._e()])},yt=[],$t=function(){var e="/api";e+="/oms/active";var t=new EventSource(e);t.onmessage=function(e){var t=JSON.parse(e.data);fe.dispatch({type:"order_updated",order:t})},fe.dispatch({type:"track_orders",listener:t})},bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("div",{staticClass:"status",class:e.order.status},[e._v(" Current Status: "+e._s(e.order.status)+" ")]),n("h2",{staticClass:"heading"},[e._v("Order ID: "+e._s(e.order._id))]),n("div",{staticClass:"details"},e._l(e.items,(function(t){return n("div",{key:t._id,staticClass:"item"},[n("div",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),n("div",{staticClass:"quantity"},[e._v(" "+e._s(t.quantity)+" ")])])})),0),n("a",{staticClass:"link-unstyled btn-next",class:{disabled:e.processing},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.changeStatus.apply(null,arguments)}}},[e._v(" "+e._s(e.processing?"Processing request":"Mark "+e.actions[e.order.status])+" ")])])},kt=[],wt=(n("d81d"),function(e,t){return R({requiresAuth:!0}).patch("/oms/".concat(e,"?action=change_status&status=").concat(t))}),It={name:"OrderCard",props:["order"],data:function(){return{actions:{received:"in-progress","in-progress":"dispatched",dispatched:"completed"},processing:!1}},methods:{changeStatus:function(){var e=this;this.processing||(this.processing=!0,wt(this.order._id,this.actions[this.order.status]).then((function(){e.processing=!1,e.$toast.success("Mark order as ".concat(e.actions[e.order.status]))})).catch((function(t){e.processing=!1,e.$toast.error("".concat(t.message," occured"))})))}},computed:{items:function(){return this.order.items.map((function(e){return{name:e.itemId.name,quantity:e.quantity}}))}}},Ot=It,qt=(n("59f6"),Object(c["a"])(Ot,bt,kt,!1,null,"037d61ce",null)),xt=qt.exports,Mt={name:"OrderManagement",title:"Order Management | Dashboard",components:{OrderCard:xt},created:function(){$t()},beforeRouteLeave:function(e,t,n){this.$store.dispatch({type:"stop_tracking"}),n()},computed:{orders:function(){return this.$store.getters.orders}}},Lt=Mt,Pt=(n("137e"),Object(c["a"])(Lt,_t,yt,!1,null,"62a569ee",null)),At=Pt.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"usermanagement"},[n("h2",{staticClass:"heading heading-secondary"},[e._v("Admin Users")]),n("div",{staticClass:"user-panel"},e._l(e.adminUsers,(function(t){return n("UserCard",{key:t._id,attrs:{user:t},on:{"user-updated":e.fetchUsers}})})),1),0!==e.employeeUsers.length?n("h2",{staticClass:"heading heading-secondary"},[e._v("Employees")]):e._e(),n("div",{staticClass:"user-panel"},e._l(e.employeeUsers,(function(t){return n("UserCard",{key:t.id,attrs:{user:t},on:{"user-updated":e.fetchUsers}})})),1),n("a",{staticClass:"link-unstyled btn add-btn",on:{click:function(t){return t.preventDefault(),e.createUser.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-plus"})]),e.addUser?n("ModalComponent",[n("AddNewUser",{on:{"save-user":e.saveUser,cancel:e.cancelAddUser}})],1):e._e()],1)},Et=[],jt=(n("4de4"),function(e){return R({requiresAuth:!0}).post("/auth/usermanagement/register",e)}),Dt=function(){return R({requiresAuth:!0}).get("/auth/usermanagement/")},Nt=function(e,t){return R({requiresAuth:!0}).patch("/auth/usermanagement/users/".concat(e),t)},St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("a",{staticClass:"btn-edit link-unstyled",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.editUser.apply(null,arguments)}}},[s("i",{staticClass:"fas fa-edit"}),e._v("Edit ")]),s("div",{staticClass:"card-details"},[s("div",{staticClass:"user-details"},[s("div",{staticClass:"name"},[e._v(" "+e._s(e.user.name)+" ")]),s("img",{attrs:{src:n("0359"),alt:"",width:"60%"}}),s("div",{staticClass:"designation"},[e._v(" "+e._s(e.user.role)+" ")])]),s("div",{staticClass:"login-details"},[s("div",{staticClass:"username login-detail"},[s("i",{staticClass:"fas fa-user"}),s("span",[e._v(e._s(e.user.username))])]),e._m(0)])]),e.edit?s("ModalComponent",[s("EditUser",{attrs:{user:e.user},on:{"save-user":e.saveChanges,cancel:e.cancel}})],1):e._e()],1)},Ut=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"password login-detail"},[n("i",{staticClass:"fas fa-lock"}),e._v(" "),n("span",{staticClass:"card-line"},[e._v("⚹⚹⚹⚹⚹⚹⚹⚹")])])}],Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-user-panel"},[n("h1",{staticClass:"heading heading-primary"},[e._v("Edit User")]),n("div",{staticClass:"form-wrapper"},[n("form",{attrs:{novalidate:""}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",class:{error:e.$v.form.name.$error},attrs:{type:"text",placeholder:"Full Name"},domProps:{value:e.form.name},on:{blur:function(t){return e.$v.form.name.$touch()},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.$v.form.name.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role,expression:"form.role"}],staticClass:"form-element",class:{error:e.$v.form.role.$error},attrs:{name:"role"},on:{blur:function(t){return e.$v.form.role.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"role",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--select-role--")]),n("option",{attrs:{value:"admin"}},[e._v("Admin")]),n("option",{attrs:{value:"employee"}},[e._v("Employee")])]),e.$v.form.role.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-element",attrs:{type:"text",placeholder:"Username",disabled:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-element",class:{error:e.$v.form.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{blur:function(t){return e.$v.form.password.$touch()},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$error?n("div",{staticClass:"validation"},[e.$v.form.password.required?e.$v.form.password.minLength?e.$v.form.password.containsUpperCase?e.$v.form.password.containsLowerCase?e.$v.form.password.containsNumber?e.$v.form.password.containsSpecial?e._e():[e._v(" One special character required except '_' ")]:[e._v(" One number required ")]:[e._v(" One lowercase letter required ")]:[e._v(" One uppercase letter required ")]:[e._v(" Minimum 8 characters required ")]:[e._v(" Field required ")]],2):e._e()]),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn-icon",attrs:{href:"",title:"save user"},on:{click:function(t){return t.preventDefault(),e.saveUser.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-check-circle"})]),n("a",{staticClass:"link-unstyled btn-icon btn-cancel",attrs:{href:"",title:"cancel user"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[n("i",{staticClass:"far fa-times-circle"})])])])])])},Rt=[],Ht={name:"AddEditUser",props:{user:{default:function(){return{}}}},data:function(){return{form:{name:"",username:"",password:"",role:""}}},validations:{form:{name:{required:lt["required"]},password:{required:Object(lt["requiredIf"])("isOptional"),minLength:function(e){return!lt["helpers"].req(e)||e.length>=8},containsUpperCase:function(e){return!lt["helpers"].req(e)||/[A-Z]/.test(e)},containsLowerCase:function(e){return!lt["helpers"].req(e)||/[a-z]/.test(e)},containsNumber:function(e){return!lt["helpers"].req(e)||/[0-9]/.test(e)},containsSpecial:function(e){return!lt["helpers"].req(e)||/[#?!@$%^&*-]/.test(e)}},role:{required:lt["required"]}}},computed:{isOptional:function(){return!0}},created:function(){0!==Object.keys(this.user).length&&(this.form.name=this.user.name,this.form.password="",this.form.role=this.user.role)},methods:{saveUser:function(){var e;e=this.form.password?Object(S["a"])({},this.form):{name:this.form.name,role:this.form.role},this.$v.form.name.$touch(),this.$v.form.role.$touch(),this.handlePasswordValidation(),this.$v.form.$invalid?this.$toast.error("Please fill the fields correctly"):this.$emit("save-user",e)},cancel:function(){this.$emit("cancel")},handlePasswordValidation:function(){this.form.password&&this.$v.form.password.$touch()}}},Bt=Ht,Vt=(n("5680"),Object(c["a"])(Bt,Ft,Rt,!1,null,"5ebd93c4",null)),zt=Vt.exports,Gt={name:"UserCard",components:{EditUser:zt},props:["user"],data:function(){return{edit:!1}},computed:{},methods:{editUser:function(){this.edit=!0},cancel:function(){this.edit=!1},selectFile:function(){console.log("Clicked")},saveChanges:function(e){var t=this;Nt(this.user._id,e).then((function(){t.$emit("user-updated"),t.edit=!1,t.$toast.success("Changes Saved")})).catch((function(e){t.$toast.error("".concat(e.message," while saving changes"))}))}}},Jt=Gt,Wt=(n("2039"),Object(c["a"])(Jt,St,Ut,!1,null,"45817d8a",null)),Zt=Wt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-user-panel"},[n("h1",{staticClass:"heading heading-primary"},[e._v("Create User")]),n("div",{staticClass:"form-wrapper"},[n("form",{attrs:{novalidate:""}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",class:{error:e.$v.form.name.$error},attrs:{type:"text",placeholder:"Full Name"},domProps:{value:e.form.name},on:{blur:function(t){return e.$v.form.name.$touch()},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.$v.form.name.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role,expression:"form.role"}],staticClass:"form-element",class:{error:e.$v.form.role.$error},attrs:{name:"role"},on:{blur:function(t){return e.$v.form.role.$touch()},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"role",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("--select-role--")]),n("option",{attrs:{value:"admin"}},[e._v("Admin")]),n("option",{attrs:{value:"employee"}},[e._v("Employee")])]),e.$v.form.role.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-element",class:{error:e.$v.form.username.$error},attrs:{type:"text",placeholder:"Username"},domProps:{value:e.form.username},on:{blur:function(t){return e.$v.form.username.$touch()},input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-element",class:{error:e.$v.form.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{blur:function(t){return e.$v.form.password.$touch()},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$error?n("div",{staticClass:"validation"},[e.$v.form.password.required?e.$v.form.password.minLength?e.$v.form.password.containsUpperCase?e.$v.form.password.containsLowerCase?e.$v.form.password.containsNumber?e.$v.form.password.containsSpecial?e._e():[e._v(" One special character required except '_' ")]:[e._v(" One number required ")]:[e._v(" One lowercase letter required ")]:[e._v(" One uppercase letter required ")]:[e._v(" Minimum 8 characters required ")]:[e._v(" Field required ")]],2):e._e()]),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn-icon",attrs:{href:"",title:"save user"},on:{click:function(t){return t.preventDefault(),e.saveUser.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-check-circle"})]),n("a",{staticClass:"link-unstyled btn-icon btn-cancel",attrs:{href:"",title:"cancel user"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[n("i",{staticClass:"far fa-times-circle"})])])])])])},Yt=[],Kt={name:"AddEditUser",props:{user:{default:function(){return{}}}},data:function(){return{form:{name:"",username:"",password:"",role:""}}},validations:{form:{name:{required:lt["required"]},username:{required:lt["required"]},password:{required:lt["required"],minLength:Object(lt["minLength"])(8),containsUpperCase:function(e){return/[A-Z]/.test(e)},containsLowerCase:function(e){return/[a-z]/.test(e)},containsNumber:function(e){return/[0-9]/.test(e)},containsSpecial:function(e){return/[#?!@$%^&*-]/.test(e)}},role:{required:lt["required"]}}},created:function(){0!==Object.keys(this.user).length&&(this.form.name=this.user.name,this.form.username=this.user.username,this.form.password=this.user.password,this.form.role=this.user.role)},methods:{saveUser:function(){this.$v.form.$touch(),this.$v.form.$invalid?this.$toast.error("Please check the inputs"):this.$emit("save-user",this.form)},cancel:function(){this.$emit("cancel")}}},Xt=Kt,en=(n("0115"),Object(c["a"])(Xt,Qt,Yt,!1,null,"0946c4c7",null)),tn=en.exports,nn={name:"UserManagement",components:{UserCard:Zt,AddNewUser:tn},data:function(){return{users:[],addUser:!1}},beforeRouteEnter:function(e,t,n){"admin"===fe.state.authentication.role?n():n({name:t.name})},created:function(){var e=this;Dt().then((function(t){var n;(n=e.users).push.apply(n,Object(ut["a"])(t))})).catch((function(t){e.$toast.error("".concat(t.message," while fetching users"))}))},computed:{adminUsers:function(){return this.users.filter((function(e){return"admin"===e.role}))},employeeUsers:function(){return this.users.filter((function(e){return"employee"===e.role}))}},methods:{createUser:function(){this.addUser=!0},saveUser:function(e){var t=this;jt(e).then((function(){return t.$toast.success("User added successfully"),t.cancelAddUser(),t.fetchUsers()})).catch((function(e){t.$toast.error("".concat(e.message," while adding users"))}))},cancelAddUser:function(){this.addUser=!1},fetchUsers:function(){var e=this;Dt().then((function(t){var n;e.users=[],(n=e.users).push.apply(n,Object(ut["a"])(t))}))}}},sn=nn,an=(n("af09"),Object(c["a"])(sn,Tt,Et,!1,null,"7690eb41",null)),rn=an.exports,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?e._e():n("div",{staticClass:"menu-panel"},[n("MenuHeader",{attrs:{menu:e.menu},on:{"edit-menu":e.editMenu}}),n("div",{staticClass:"menu-details"},[n("h2",{staticClass:"section-heading"},[e._v(" Menu Items ")]),n("div",{staticClass:"menu-items menu-list"},[e.menuItems.length+e.specials.length===0?n("div",{staticClass:"empty-menu"},[e._v(" Empty Menu. Press the add button to add a menu item ")]):e._e(),e._l(e.specials,(function(t){return n("MenuItem",{key:t._id,attrs:{menuItem:t},on:{"delete-item":e.deleteMenuItem}})})),e._l(e.menuItems,(function(t){return n("MenuItem",{key:t._id,attrs:{menuItem:t},on:{"delete-item":e.deleteMenuItem}})})),e.addItem?n("AddMenuItem",{attrs:{id:"add-new-item"},on:{cancel:e.cancelNewItem,"menu-item-added":e.addToMenu}}):e._e()],2),n("AddButton",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#add-new-item"},expression:"{el: '#add-new-item'}"}],on:{"btn-click":e.addMenuItem}})],1),e.edit?n("ModalComponent",[n("AddEditMenu",{attrs:{menu:e.menu,title:"Edit Menu"},on:{"save-menu":e.saveMenu,cancel:e.cancelEdit}})],1):e._e()],1)},cn=[],un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editMode?n("EditMenuItem",{attrs:{menuItem:e.item},on:{"menu-item-updated":e.updateSuccess,cancel:e.cancelEdit}}):n("div",{staticClass:"menu-item"},[n("div",{staticClass:"menu-item-line"},[n("h4",{staticClass:"name"},[e._v(" "+e._s(e.item.name)+" ")]),e.item.special?n("div",{staticClass:"special"},[e._v(" specials ")]):e._e()]),n("div",{staticClass:"menu-item-line "},[n("div",{staticClass:"price"},[e._v(" ₹ "+e._s(e.item.price)+" ")]),n("div",{staticClass:"spice-level"},[n("span",[e._v(e._s(e.item.spiceLevel))]),e._l(5,(function(t){return n("i",{key:t,staticClass:"fas fa-pepper-hot",class:{active:t<=e.item.spiceLevel}})}))],2),n("div",{staticClass:"rating"},[n("span",[e._v(e._s(e.item.rating))]),n("i",{staticClass:"fas fa-star"})]),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled",attrs:{href:"",id:"edit",title:"Edit item"},on:{click:function(t){return t.preventDefault(),e.edit.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-edit"})]),n("a",{staticClass:"link-unstyled",attrs:{href:"",id:"delete",title:"Delete item"},on:{click:function(t){return t.preventDefault(),e.requestDelete.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-times-circle"})])])]),n("div",{staticClass:"menu-item-line"},[e._v(" "+e._s(e.item.description)+" ")]),e.showConfirm?n("ModalComponent",[n("ConfirmBox",{attrs:{message:"Are you sure you want to delete : "+e.item.name,buttonText:"Delete"},on:{confirm:e.deleteItem,cancel:e.cancelDelete}})],1):e._e()],1)},ln=[],mn=function(e){return R({requiresAuth:!0}).post("/restaurant/menuitem",Object(S["a"])({},e))},dn=function(e,t){return R({requiresAuth:!0}).patch("/restaurant/menuitem/".concat(e),Object(S["a"])({},t))},fn=function(e){return R({requiresAuth:!0}).delete("/restaurant/menuitem/".concat(e))},pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"menu-item-new",attrs:{novalidate:""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",attrs:{type:"text",name:"name",id:"name",placeholder:"Item Name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),n("div",{staticClass:"form-line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.price,expression:"form.price"}],staticClass:"form-element",attrs:{type:"number",placeholder:"Price"},domProps:{value:e.form.price},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.spiceLevel,expression:"form.spiceLevel"}],staticClass:"form-element",attrs:{name:"spice",id:"spice"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"spiceLevel",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--spice level--")]),n("option",{attrs:{value:"0"}},[e._v("0")]),n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"5"}},[e._v("5")])]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.rating,expression:"form.rating"}],staticClass:"form-element",attrs:{name:"rating",id:"rating"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"rating",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--rating--")]),n("option",{attrs:{value:"0"}},[e._v("0")]),n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"5"}},[e._v("5")])]),n("label",{attrs:{for:"special"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.special,expression:"form.special"}],attrs:{type:"checkbox",id:"special"},domProps:{checked:Array.isArray(e.form.special)?e._i(e.form.special,null)>-1:e.form.special},on:{change:function(t){var n=e.form.special,s=t.target,a=!!s.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);s.checked?i<0&&e.$set(e.form,"special",n.concat([r])):i>-1&&e.$set(e.form,"special",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.form,"special",a)}}}),e._v(" specials")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-element description",attrs:{placeholder:"Item Description",name:"description",id:"description",rows:"2"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn-icon",attrs:{href:"",id:"btn-add",title:"Save Item"},on:{click:function(t){return t.preventDefault(),e.addItem.apply(null,arguments)}}},[n("i",{staticClass:"far fa-check-circle"})]),n("a",{staticClass:"link-unstyled btn-icon btn-cancel",attrs:{href:"",id:"btn-cancel",title:"Cancel"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[n("i",{staticClass:"far fa-times-circle"})])])])},vn=[],hn=(n("a4d3"),n("e01a"),{name:"EditMenuItem",props:{menuItem:{default:function(){return{}}}},data:function(){return{form:{name:"",price:"",spiceLevel:"",rating:"",special:!1,description:""}}},created:function(){0!==Object.keys(this.menuItem).length&&(this.form=Object(S["a"])({},this.menuItem))},methods:{addItem:function(){var e=this;this.isValid?dn(this.menuItem._id,this.form).then((function(t){e.$emit("menu-item-updated",t),e.resetForm(),e.$emit("cancel")})).catch((function(t){e.$toast.error("".concat(t.message))})):this.$toast.error("Please fill all the fields correctly")},cancel:function(){this.resetForm(),this.$emit("cancel")},resetForm:function(){this.form={name:"",price:"",spiceLevel:"",rating:"",special:!1,description:""}}},computed:{isValid:function(){return Boolean(this.form.name&&this.form.price>0&&""!==this.form.spiceLevel&&""!==this.form.rating&&this.form.description)}}}),gn=hn,Cn=(n("116f"),Object(c["a"])(gn,pn,vn,!1,null,"1448aa62",null)),_n=Cn.exports,yn={name:"MenuItem",components:{EditMenuItem:_n},props:["menuItem"],data:function(){return{editMode:!1,item:Object(S["a"])({},this.menuItem),showConfirm:!1}},methods:{requestDelete:function(){this.showConfirm=!0},cancelDelete:function(){this.showConfirm=!1},edit:function(){this.editMode=!0},cancelEdit:function(){this.editMode=!1},updateSuccess:function(e){this.$toast.success("Changes saved"),this.item=Object(S["a"])({},e)},deleteItem:function(){var e=this;fn(this.item._id).then((function(t){e.$emit("delete-item",t._id),e.$toast.success("".concat(t.name," deleted"))})).catch((function(t){e.$toast.error("".concat(t.message))}))}}},$n=yn,bn=(n("e1ec"),Object(c["a"])($n,un,ln,!1,null,"39fac8fe",null)),kn=bn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-header"},[n("h1",{staticClass:"heading"},[e._v(" "+e._s(e.menu.name)+" ")]),n("a",{staticClass:"link-unstyled btn btn-edit",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.edit.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-edit"}),e._v(" Edit")]),n("div",{staticClass:"menu-subheader"},[n("div",{staticClass:"subheading-item"},[n("p",[e._v("Availability")]),e._l(7,(function(t){return n("span",{key:t-1,staticClass:"day",class:{"day-active":e.menu.availability[t-1]}},[e._v(e._s(e.days[t-1]))])}))],2),n("div",{staticClass:"subheading-item"},[n("p",[e._v("Timing:")]),n("p",[e._v(e._s(e.timeString))])])])])},In=[],On={name:"MenuHeader",props:["menu"],data:function(){return{days:["M","T","W","T","F","S","S"]}},computed:{timeString:function(){var e=this.menu.openTime,t=this.menu.closeTime;return"".concat(nt(tt(e.hours),tt(e.minutes))," - ").concat(nt(tt(t.hours),tt(t.minutes)))}},methods:{edit:function(){this.$emit("edit-menu")}}},qn=On,xn=(n("f926"),Object(c["a"])(qn,wn,In,!1,null,"7f130a59",null)),Mn=xn.exports,Ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"menu-item-new",attrs:{novalidate:""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",attrs:{type:"text",name:"name",placeholder:"Item Name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),n("div",{staticClass:"form-line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.price,expression:"form.price"}],staticClass:"form-element",attrs:{type:"number",placeholder:"Price"},domProps:{value:e.form.price},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.spiceLevel,expression:"form.spiceLevel"}],staticClass:"form-element",attrs:{name:"spice",id:"spice"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"spiceLevel",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--spice level--")]),n("option",{attrs:{value:"0"}},[e._v("0")]),n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"5"}},[e._v("5")])]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.rating,expression:"form.rating"}],staticClass:"form-element",attrs:{name:"rating",id:"rating"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"rating",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("--rating--")]),n("option",{attrs:{value:"0"}},[e._v("0")]),n("option",{attrs:{value:"1"}},[e._v("1")]),n("option",{attrs:{value:"2"}},[e._v("2")]),n("option",{attrs:{value:"3"}},[e._v("3")]),n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"5"}},[e._v("5")])]),n("label",{attrs:{for:"special"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.special,expression:"form.special"}],attrs:{type:"checkbox",id:"special"},domProps:{checked:Array.isArray(e.form.special)?e._i(e.form.special,null)>-1:e.form.special},on:{change:function(t){var n=e.form.special,s=t.target,a=!!s.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);s.checked?i<0&&e.$set(e.form,"special",n.concat([r])):i>-1&&e.$set(e.form,"special",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.form,"special",a)}}}),e._v(" specials")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-element description",attrs:{placeholder:"Item Description",name:"description",id:"",rows:"2"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn-icon",attrs:{href:"",title:"Save Item"},on:{click:function(t){return t.preventDefault(),e.addItem.apply(null,arguments)}}},[n("i",{staticClass:"far fa-check-circle"})]),n("a",{staticClass:"link-unstyled btn-icon btn-cancel",attrs:{href:"",title:"Cancel"},on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[n("i",{staticClass:"far fa-times-circle"})])])])},Pn=[],An={name:"AddMenuItem",props:{menuItem:{default:function(){return{}}}},data:function(){return{form:{name:"",price:"",spiceLevel:"",rating:"",special:!1,description:""}}},created:function(){0!==Object.keys(this.menuItem).length&&(this.form=Object(S["a"])({},this.menuItem))},methods:{addItem:function(){var e=this;this.isValid?mn(this.form).then((function(t){e.$emit("menu-item-added",t),e.resetForm(),e.$emit("cancel")})).catch((function(t){e.$toast.error("".concat(t.message))})):this.$toast.error("Please fill all the fields correctly")},cancel:function(){this.resetForm(),this.$emit("cancel")},resetForm:function(){this.form={name:"",price:"",spiceLevel:"",rating:"",special:!1,description:""}}},computed:{isValid:function(){return Boolean(this.form.name&&this.form.price>0&&""!==this.form.spiceLevel&&""!=this.form.rating&&this.form.description)}}},Tn=An,En=(n("0e32"),Object(c["a"])(Tn,Ln,Pn,!1,null,"18935702",null)),jn=En.exports,Dn={name:"MenuView",components:{MenuItem:kn,MenuHeader:Mn,AddMenuItem:jn,AddEditMenu:pt},title:"Menu View",data:function(){return{menu:{},loading:!1,addItem:!1,edit:!1}},created:function(){var e=this,t=this.$route.params.menuId;this.loading=!0,Je(t).then((function(t){Object.keys(t).forEach((function(n){e.$set(e.menu,n,t[n])})),e.loading=!1})).catch((function(){e.loading=!1}))},methods:{addMenuItem:function(){this.addItem=!0},addToMenu:function(e){var t=this;We(this.menu._id,{menuItem:e._id}).then((function(){return Je(t.menu._id)})).then((function(n){Object.keys(n).forEach((function(e){t.$set(t.menu,e,n[e])})),t.$toast.success("New Item Added : ".concat(e.name))})).catch((function(e){t.$toast.error("".concat(e," while adding item to menu"))}))},cancelNewItem:function(){this.addItem=!1},saveMenu:function(e){var t=this;Qe(this.menu._id,e).then((function(e){t.edit=!1,t.$set(t.menu,"name",e["name"]),t.$set(t.menu,"closeTime",e["closeTime"]),t.$set(t.menu,"openTime",e["openTime"]),t.$set(t.menu,"availability",e["availability"]),t.$toast.success("Menu updated")})).catch((function(e){t.$toast(e.message)}))},cancelEdit:function(){this.edit=!1},editMenu:function(){this.edit=!0},deleteMenuItem:function(e){var t=this;Ze(this.menu._id,e).then((function(){return console.log("deleted Item from menu"),Je(t.menu._id)})).then((function(e){t.menu={},Object.keys(e).forEach((function(n){t.$set(t.menu,n,e[n])}))})).catch((function(e){console.log(e)}))}},computed:{specials:function(){return 0!==Object.keys(this.menu).length?this.menu.menuItems.filter((function(e){return e.special})):[]},menuItems:function(){return 0!==Object.keys(this.menu).length?this.menu.menuItems.filter((function(e){return!e.special})):[]}}},Nn=Dn,Sn=(n("1eb8"),Object(c["a"])(Nn,on,cn,!1,null,"3b04389e",null)),Un=Sn.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"wrapper"},[n("h1",{staticClass:"heading "},[e._v(" Restaurant Login ")]),n("form",{staticClass:"form",attrs:{novalidate:""}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-element",class:{error:e.$v.form.username.$error},attrs:{type:"text",id:"username",placeholder:"Username"},domProps:{value:e.form.username},on:{blur:function(t){return e.$v.form.username.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e.$v.form.username.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-element",class:{error:e.$v.form.password.$error},attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{blur:e.$v.form.password.$touch,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("a",{staticClass:"link-unstyled btn btn-login",class:{disabled:e.loading},attrs:{href:"",id:"submit"},on:{click:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._v(" "+e._s(e.loading?"Logging In":"Login")+" ")])])])])])},Rn=[],Hn={name:"RestaurantLogin",title:"Restaurant User Login",data:function(){return{form:{username:"",password:""},loading:!1}},validations:{form:{username:{required:lt["required"]},password:{required:lt["required"]}}},methods:{login:function(){var e=this;this.$v.form.$touch(),this.$v.form.$invalid?this.$toast.error("Please fill the fields correctly"):(this.loading=!0,this.$store.dispatch({type:"login",credentials:this.form}).then((function(){e.loading=!1,e.$router.push({name:"dashboard-home"}),e.$toast.success("Logged in as Admin")})).catch((function(t){e.loading=!1,e.$toast.error("".concat(t.message," occured"))})))}}},Bn=Hn,Vn=(n("bac3"),Object(c["a"])(Bn,Fn,Rn,!1,null,"4afebb2a",null)),zn=Vn.exports,Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"wrapper"},[n("h1",{staticClass:"heading "},[e._v(" Customer Login ")]),n("form",{staticClass:"form"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-element",class:{error:e.$v.form.email.$error},attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.form.email},on:{blur:function(t){return e.$v.form.email.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.$v.form.email.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-element",class:{error:e.$v.form.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{blur:function(t){return e.$v.form.password.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("a",{staticClass:"link-unstyled btn btn-login",class:{disabled:e.loading},attrs:{href:"",id:"submit"},on:{click:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._v(" "+e._s(e.loading?"Logging In":"Login")+" ")])]),n("div",{staticClass:"register"},[e._v(" New User? "),n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[e._v("Register")])])])])])},Jn=[],Wn={name:"CustomerLogin",title:"Customer Login",data:function(){return{form:{email:"",password:""},isCheckout:!1,loading:!1}},validations:{form:{email:{required:lt["required"]},password:{required:lt["required"]}}},created:function(){void 0!==this.$route.query&&this.$route.query.checkout&&(this.isCheckout=!0)},methods:{register:function(){this.isCheckout?this.$router.push({name:"customer-registration",params:Object(S["a"])({},this.$route.params),query:Object(S["a"])({},this.$route.query)}):this.$router.push({name:"customer-registration"})},login:function(){var e=this;this.$v.form.$touch(),this.$v.form.$invalid||this.loading?this.$toast.error("Please fill the fields correctly"):(this.loading=!0,this.$store.dispatch({type:"customerLogin",credentials:this.form}).then((function(){e.loading=!1,e.isCheckout?e.$router.push({name:"order",params:Object(S["a"])({},e.$route.params)}):e.$router.push({name:"customer-home"}),e.$toast.success("Logged in successfully")})).catch((function(t){e.loading=!1,e.$toast.error("".concat(t.message))})))}}},Zn=Wn,Qn=(n("6ee7"),Object(c["a"])(Zn,Gn,Jn,!1,null,"430ccd7a",null)),Yn=Qn.exports,Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"wrapper"},[n("form",{staticClass:"form"},[n("div",{staticClass:"registration-details"},[n("h1",{staticClass:"heading "},[e._v(" Customer Registration ")]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-element",class:{error:e.$v.form.name.$error},attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:e.form.name},on:{blur:function(t){return e.$v.form.name.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.$v.form.name.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-element",class:{error:e.$v.form.email.$error},attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.form.email},on:{blur:function(t){return e.$v.form.email.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.$v.form.email.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.primaryContact,expression:"form.primaryContact"}],staticClass:"form-element",class:{error:e.$v.form.primaryContact.$error},attrs:{type:"text",id:"primaryContact",placeholder:"Contact Number"},domProps:{value:e.form.primaryContact},on:{blur:function(t){return e.$v.form.primaryContact.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"primaryContact",t.target.value)}}}),e.$v.form.primaryContact.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-element",class:{error:e.$v.form.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{blur:function(t){return e.$v.form.password.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.$v.form.password.$error?n("div",{staticClass:"validation"},[e.$v.form.password.required?e.$v.form.password.minLength?e.$v.form.password.containsUpperCase?e.$v.form.password.containsLowerCase?e.$v.form.password.containsNumber?e.$v.form.password.containsSpecial?e._e():[e._v(" One special character required except '_' ")]:[e._v(" One number required ")]:[e._v(" One lowercase letter required ")]:[e._v(" One uppercase letter required ")]:[e._v(" Minimum 8 characters required ")]:[e._v(" Field required ")]],2):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.confirmPassword,expression:"form.confirmPassword"}],staticClass:"form-element",class:{error:e.$v.form.confirmPassword.$error},attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:e.form.confirmPassword},on:{blur:function(t){return e.$v.form.confirmPassword.$touch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form,"confirmPassword",t.target.value)}}}),e.$v.form.confirmPassword.$error?n("div",{staticClass:"validation"},[e._v(" Passwords do not match ")]):e._e()])]),n("div",{staticClass:"address-details"},[n("h2",[e._v("Address")]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address.addressLine1,expression:"form.address.addressLine1"}],staticClass:"form-element",class:{error:e.$v.form.address.addressLine1.$error},attrs:{type:"text",name:"addressLine1",id:"addressLine1",placeholder:"Address Line 1"},domProps:{value:e.form.address.addressLine1},on:{blur:function(t){return e.$v.form.address.addressLine1.$touch()},input:function(t){t.target.composing||e.$set(e.form.address,"addressLine1",t.target.value)}}}),e.$v.form.address.addressLine1.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address.addressLine2,expression:"form.address.addressLine2"}],staticClass:"form-element",class:{error:e.$v.form.address.addressLine2.$error},attrs:{type:"text",name:"addressLine2",id:"addressLine2",placeholder:"Address Line 2"},domProps:{value:e.form.address.addressLine2},on:{blur:function(t){return e.$v.form.address.addressLine2.$touch()},input:function(t){t.target.composing||e.$set(e.form.address,"addressLine2",t.target.value)}}}),e.$v.form.address.addressLine2.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address.city,expression:"form.address.city"}],staticClass:"form-element form-element-half",class:{error:e.$v.form.address.city.$error},attrs:{type:"text",name:"city",id:"city",placeholder:"City Name"},domProps:{value:e.form.address.city},on:{blur:function(t){return e.$v.form.address.city.$touch()},input:function(t){t.target.composing||e.$set(e.form.address,"city",t.target.value)}}}),e.$v.form.address.city.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address.landmark,expression:"form.address.landmark"}],staticClass:"form-element form-element-half",class:{error:e.$v.form.address.landmark.$error},attrs:{type:"text",name:"landmark",id:"landmark",placeholder:"Landmark"},domProps:{value:e.form.address.landmark},on:{blur:function(t){return e.$v.form.address.landmark.$touch()},input:function(t){t.target.composing||e.$set(e.form.address,"landmark",t.target.value)}}}),e.$v.form.address.landmark.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address.primaryContact,expression:"form.address.primaryContact"}],staticClass:"form-element form-element-half",class:{error:e.$v.form.address.primaryContact.$error},attrs:{type:"text",name:"Contact",id:"Contact",placeholder:"Contact"},domProps:{value:e.form.address.primaryContact},on:{blur:function(t){return e.$v.form.address.primaryContact.$touch()},input:function(t){t.target.composing||e.$set(e.form.address,"primaryContact",t.target.value)}}}),e.$v.form.address.primaryContact.$error?n("div",{staticClass:"validation"},[e._v(" Field required ")]):e._e()])])]),n("div",{staticClass:"form-group"},[n("a",{staticClass:"link-unstyled btn btn-cta",class:{disabled:e.loading},attrs:{href:"",id:"submit"},on:{click:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[e._v(" "+e._s(e.loading?"Processing":"Register")+" ")])])])])},Xn=[],es={name:"CustomerRegistration",title:"Customer Registration",data:function(){return{form:{name:"",email:"",password:"",confirmPassword:"",primaryContact:"",address:{addressLine1:"",addressLine2:"",city:"",landmark:"",primaryContact:""}},isCheckout:!1,loading:!1}},validations:{form:{name:{required:lt["required"]},email:{required:lt["required"]},password:{required:lt["required"],minLength:Object(lt["minLength"])(8),containsUpperCase:function(e){return/[A-Z]/.test(e)},containsLowerCase:function(e){return/[a-z]/.test(e)},containsNumber:function(e){return/[0-9]/.test(e)},containsSpecial:function(e){return/[#?!@$%^&*-]/.test(e)}},confirmPassword:{sameAsPassword:Object(lt["sameAs"])("password")},primaryContact:{required:lt["required"]},address:{addressLine1:{required:lt["required"]},addressLine2:{required:lt["required"]},city:{required:lt["required"]},landmark:{required:lt["required"]},primaryContact:{required:lt["required"]}}}},created:function(){void 0!==this.$route.query&&this.$route.query.checkout&&(this.isCheckout=!0)},methods:{register:function(){var e=this;if(this.$v.form.$touch(),this.$v.form.$invalid||this.loading)this.$toast.error("Please fill the fields correctly");else{this.loading=!0;var t=this;Q(this.form).then((function(){return t.$store.dispatch({type:"customerLogin",credentials:{email:e.form.email,password:e.form.password}})})).then((function(){t.loading=!1,t.isCheckout?t.$router.push({name:"order",params:Object(S["a"])({},t.$route.params)}):t.$router.push({name:"customer-home"}),t.$toast.success("Logged in successfully")})).catch((function(e){t.loading=!1,t.$toast.error("".concat(e.message))}))}}}},ts=es,ns=(n("aaef"),Object(c["a"])(ts,Kn,Xn,!1,null,"3da669cf",null)),ss=ns.exports,as=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Navigation"),n("Header",{attrs:{id:"home"}}),n("MenuListing",{attrs:{id:"menu"}}),n("Footer")],1)},rs=[],is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"cta"},[n("span",[e._v("hungry?")]),e._v(" "),n("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#menu",expression:"'#menu'"}],staticClass:"link-unstyled btn btn-cta",attrs:{href:""}},[e._v("Order Now")])])])},os=[],cs={name:"Header"},us=cs,ls=(n("b4f8"),Object(c["a"])(us,is,os,!1,null,"0a553428",null)),ms=ls.exports,ds=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("a",{staticClass:"hamburger floating-item",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toggleMenu.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-bars"})]),n("ul",{staticClass:"nav container list-unstyled",class:{"opacity-1":e.atTop,showMenuMobile:e.showMenuMobile}},[n("li",[n("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#home",expression:"'#home'"}],staticClass:"link-unstyled nav-item",attrs:{href:"#home"}},[e._v("Home")])]),n("li",[n("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#menu",expression:"'#menu'"}],staticClass:"link-unstyled nav-item",attrs:{href:"#menu"}},[e._v("Menu")])]),n("li",[n("router-link",{staticClass:"link-unstyled nav-item nav-cta",attrs:{to:{name:"customer-login"}}},[e._v("Login")])],1),n("li",[n("router-link",{staticClass:"link-unstyled nav-item cart",attrs:{to:{name:"cart"}}},[n("i",{staticClass:"fas fa-shopping-cart"}),n("span",{staticClass:"cart-count"},[e._v(e._s(e.cartLength))])])],1)]),n("router-link",{staticClass:"link-unstyled cart cart-mobile floating-item",attrs:{to:{name:"cart"}}},[n("i",{staticClass:"fas fa-shopping-cart"}),n("span",{staticClass:"cart-count"},[e._v(e._s(e.cartLength))])])],1)},fs=[],ps={name:"Navigation",created:function(){window.addEventListener("scroll",this.handleScroll)},data:function(){return{atTop:!0,showMenuMobile:!1}},methods:{handleScroll:function(){window.scrollY<300?this.atTop=!0:this.atTop=!1},toggleMenu:function(){this.showMenuMobile=!this.showMenuMobile}},computed:{cartLength:function(){return this.$store.getters.cartLength}}},vs=ps,hs=(n("5bad"),Object(c["a"])(vs,ds,fs,!1,null,"077e4885",null)),gs=hs.exports,Cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"listing"},[n("MenuPanel",{attrs:{menus:e.menus},on:{"show-menu":e.showMenu}}),n("ItemsPanel",{attrs:{menu:e.currentMenu}})],1)])},_s=[],ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("ul",{staticClass:"list-unstyled menu-list"},e._l(e.menus,(function(t,s){return n("li",{key:t._id,staticClass:"list-item"},[n("a",{staticClass:"link-unstyled menu-name",class:{active:s===e.selected},attrs:{href:""},on:{click:function(n){return n.preventDefault(),e.showMenu(s,t)}}},[e._v(" "+e._s(t.name)+" ")])])})),0)])},$s=[],bs={name:"MenuPanel",props:{menus:{default:function(){return{}}}},data:function(){return{selected:""}},methods:{showMenu:function(e){this.$emit("show-menu",e)}}},ks=bs,ws=(n("5ad6"),Object(c["a"])(ks,ys,$s,!1,null,"e7833384",null)),Is=ws.exports,Os=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("div",{staticClass:"menu-list"},[e._l(e.menu.menuItems,(function(e){return n("MenuItem",{key:e._id,attrs:{menuItem:e}})})),0===Object.keys(e.menu).length?n("span",[e._v("Select a menu to continue")]):e._e()],2)])},qs=[],xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-item",on:{mouseenter:e.toggleHover,mouseleave:e.toggleHover}},[n("div",{staticClass:"menu-wrapper"},[n("div",{staticClass:"menu-item-line"},[n("h4",{staticClass:"name"},[e._v(" "+e._s(e.menuItem.name)+" ")]),e.menuItem.special?n("div",{staticClass:"special"},[e._v(" specials ")]):e._e()]),n("div",{staticClass:"menu-item-line "},[n("div",{staticClass:"spice-level"},[n("span",[e._v(e._s(e.menuItem.spiceLevel))]),e._l(5,(function(t){return n("i",{key:t,staticClass:"fas fa-pepper-hot",class:{active:t<=e.menuItem.spiceLevel}})}))],2),n("div",{staticClass:"rating"},[n("span",[e._v(e._s(e.menuItem.rating))]),n("i",{staticClass:"fas fa-star"})]),n("div",{staticClass:"price"},[e._v(" ₹ "+e._s(e.menuItem.price)+" ")])]),n("div",{staticClass:"menu-item-line"},[e._v(" "+e._s(e.menuItem.description)+" ")])]),n("a",{staticClass:"add link-unstyled",class:{"show-on-desktop":e.hovered,disabled:e.addInProgress},on:{click:function(t){return t.preventDefault(),e.addToCart.apply(null,arguments)}}},[n("a",{staticClass:"link-unstyled",class:{disabled:e.addInProgress}},[e._v("Add")])])])},Ms=[],Ls={name:"MenuItem",props:{menuItem:{},cartItemId:{default:""}},data:function(){return{showFull:!1,hovered:!1,addInProgress:!1}},methods:{toggleDescription:function(){this.showFull=!this.showFull},toggleHover:function(){this.hovered=!this.hovered},addToCart:function(){var e=this;if(!this.addInProgress){var t={};t.item=this.menuItem._id,t.quantity=1,this.addInProgress=!0,this.$store.dispatch({type:"addToCart",item:t}).then((function(){e.addInProgress=!1,e.$toast.success("".concat(e.menuItem.name," Added"))})).catch((function(t){e.addInProgress=!1,e.$toast.error("".concat(t.message))}))}}}},Ps=Ls,As=(n("b2f7"),Object(c["a"])(Ps,xs,Ms,!1,null,"5368d49f",null)),Ts=As.exports,Es={name:"ItemsPanel",components:{MenuItem:Ts},props:{menu:{default:function(){return{name:""}}}}},js=Es,Ds=(n("1e66"),Object(c["a"])(js,Os,qs,!1,null,"52bfce66",null)),Ns=Ds.exports,Ss={name:"MenuListing",components:{MenuPanel:Is,ItemsPanel:Ns},data:function(){return{menus:[],currentMenu:{}}},created:function(){this.loadMenus()},methods:{loadMenus:function(){var e=this;Ge().then((function(t){e.menus=t}))},showMenu:function(e){this.currentMenu=this.menus[e]}}},Us=Ss,Fs=(n("b6e9"),Object(c["a"])(Us,Cs,_s,!1,null,"45475ee4",null)),Rs=Fs.exports,Hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("div",{staticClass:"footer"},[n("div",{staticClass:"footer-nav"},[n("span",[e._v("Restaurant User? ")]),n("router-link",{staticClass:"link-unstyled nav-link btn",attrs:{to:{name:"admin-login"}}},[e._v("Login")])],1)]),n("div",{staticClass:"copy"},[e._v(" All rights reserved © ")])])},Bs=[],Vs=function(){return Z().get("/restaurant")},zs={name:"Footer",data:function(){return{restaurantDetails:{}}},created:function(){var e=this;Vs().then((function(t){Object.keys(t).forEach((function(n){e.$set(e.restaurantDetails,n,t[n])}))})).catch()},computed:{address:function(){return this.restaurantDetails.address},addressLine1:function(){return void 0!==this.address&&void 0!==this.address.addressLine1?this.address.addressLine1:""},addressLine2:function(){return void 0!==this.address&&void 0!==this.address.addressLine2?this.address.addressLine2:""},timeString:function(){var e=this.restaurantDetails.openTime,t=this.restaurantDetails.closeTime;return"".concat(nt(tt(e.hours),tt(e.minutes))," - ").concat(nt(tt(t.hours),tt(t.minutes)))}}},Gs=zs,Js=(n("aa36"),Object(c["a"])(Gs,Hs,Bs,!1,null,"b45bd358",null)),Ws=Js.exports,Zs={name:"HomePage",title:"Restaurant Home",components:{Header:ms,Navigation:gs,MenuListing:Rs,Footer:Ws},created:function(){var e=this;this.$store.dispatch({type:"loadSession"}).catch((function(t){e.$toast.error("".concat(t.message," while loading session"))}))}},Qs=Zs,Ys=Object(c["a"])(Qs,as,rs,!1,null,"8ed60954",null),Ks=Ys.exports,Xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"head"},[n("a",{staticClass:"link-unstyled",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.back.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-chevron-left"})]),n("h1",{staticClass:"heading"},[e._v(" Cart ")])]),n("div",{staticClass:"cart-details"},[e._l(e.cart.items,(function(e){return n("CartItem",{key:e._id,attrs:{cartItem:e}})})),0===e.cartTotal?n("div",{staticClass:"empty"},[e._v("No items in Cart")]):e._e()],2),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn btn-cta",class:{disabled:0===e.cartItems},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.handleClick.apply(null,arguments)}}},[n("span",[e._v(e._s(e.itemString)+" | ₹ "+e._s(e.cartTotal))]),e._v(" Checkout ")])])])},ea=[],ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cart-item"},[n("div",{staticClass:"detail name"},[e._v(e._s(e.name))]),n("div",{staticClass:"details"},[n("div",{staticClass:"qty"},[n("a",{staticClass:"link-unstyled decrement",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.increment(-1)}}},[n("i",{staticClass:"fas fa-minus"})]),n("p",{staticClass:"value"},[e._v(e._s(e.quantity))]),n("a",{staticClass:"link-unstyled increment",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.increment(1)}}},[n("i",{staticClass:"fas fa-plus"})])]),n("div",{staticClass:"price"},[e._v("₹ "+e._s(e.price))])]),e.loading?n("div",{staticClass:"loading"},[e._v(" Processing ")]):e._e()])},na=[],sa={name:"CartItem",props:["cartItem"],data:function(){return{loading:!1}},computed:{item:function(){return this.cartItem.item},name:function(){return this.item.name},quantity:function(){return this.cartItem.quantity},price:function(){return this.item.price*this.quantity}},methods:{increment:function(e){var t=this;this.loading=!0;var n={};n._id=this.cartItem._id,n.quantity=e,this.$store.dispatch({type:"addToCart",item:n,quantity:this.quantity}).then((function(){t.loading=!1})).catch((function(e){t.loading=!1,t.$toast.success("".concat(e.message))}))}}},aa=sa,ra=(n("8eee"),Object(c["a"])(aa,ta,na,!1,null,"4b4499f4",null)),ia=ra.exports,oa={name:"Cart",components:{CartItem:ia},title:"Cart",created:function(){void 0===this.$store.getters.cart.items&&this.$store.dispatch({type:"loadSession"})},methods:{back:function(){this.$router.push({name:"home"})},handleClick:function(){0!==this.cartItems&&this.$router.push({name:"order",params:{cart:this.cart._id}})}},computed:{cart:function(){return this.$store.getters.cart},cartItems:function(){return this.$store.getters.cartLength},itemString:function(){return 1===this.cartItems?"1 item":"".concat(this.cartItems," items")},cartTotal:function(){var e=0;return void 0!==this.$store.getters.cart.items&&this.$store.getters.cart.items.forEach((function(t){e+=t.item.price*t.quantity})),e}}},ca=oa,ua=(n("2ffe"),Object(c["a"])(ca,Xs,ea,!1,null,"00347da7",null)),la=ua.exports,ma=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"dashboard"}},[n("SidePanel"),n("MainPanel")],1)},da=[],fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mainpanel"},[n("TopPanel"),n("ContentPanel")],1)},pa=[],va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-panel"})},ha=[],ga={name:"TopPanel",data:function(){return{showDropdown:!1}},methods:{toggleHamburger:function(){console.log("toggled")},toggleDropdown:function(){this.showDropdown=!this.showDropdown}}},Ca=ga,_a=(n("1613"),Object(c["a"])(Ca,va,ha,!1,null,"3f1305cc",null)),ya=_a.exports,$a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-panel"},[e.showConfirm?n("modal-component",[n("confirm-box",{attrs:{message:"Do you want to log out?",buttonText:"Logout"},on:{cancel:e.cancelLogout,confirm:e.logout}})],1):e._e(),n("router-view")],1)},ba=[],ka={name:"ContentPanel",methods:{logout:function(){var e=this;this.$store.dispatch({type:"customerLogout"}).then((function(){e.cancelLogout(),e.$router.push({name:"home"})}))},cancelLogout:function(){this.$store.dispatch({type:"confirmLogout",confirmLogout:!1})}},computed:{showConfirm:function(){return this.$store.state.authentication.confirmLogout}}},wa=ka,Ia=(n("5f04"),Object(c["a"])(wa,$a,ba,!1,null,"d0e4de9c",null)),Oa=Ia.exports,qa={name:"MainPanel",components:{TopPanel:ya,ContentPanel:Oa}},xa=qa,Ma=(n("db9f"),Object(c["a"])(xa,fa,pa,!1,null,"0f0fa3ac",null)),La=Ma.exports,Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidepanel"},[n("div",{staticClass:"user-details"},[n("div",{staticClass:"greeting"},[e._v(" "+e._s(e.name)+" ")]),n("a",{staticClass:"logout",attrs:{href:"",id:"logout"},on:{click:function(t){return t.preventDefault(),e.confirmLogout.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-sign-out-alt"}),n("span",[e._v("logout")])])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"customer-home"},"active-class":"active",exact:""}},[n("i",{staticClass:"fas fa-home"}),n("span",[e._v("Home")])]),n("router-link",{staticClass:"link-unstyled sidepanel-link",attrs:{to:{name:"customer-orders"},"active-class":"active",exact:""}},[n("i",{staticClass:"fas fa-shopping-cart"}),n("span",[e._v("Orders")])])],1)},Aa=[],Ta={name:"SidePanel",methods:{confirmLogout:function(){this.$store.dispatch({type:"confirmLogout",confirmLogout:!0})}},computed:{name:function(){return this.$store.state.customerAuth.name}}},Ea=Ta,ja=(n("3f25"),Object(c["a"])(Ea,Pa,Aa,!1,null,"623ef9fe",null)),Da=ja.exports,Na={name:"CustomerDashboard",title:"Customer Dashboard",components:{MainPanel:La,SidePanel:Da}},Sa=Na,Ua=(n("3bf2"),Object(c["a"])(Sa,ma,da,!1,null,"57919678",null)),Fa=Ua.exports,Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("h2",[e._v("Customer Details")]),n("div",{staticClass:"panel"},[n("div",{staticClass:"customer-details"},[n("form",{staticClass:"details-form",attrs:{novalidate:""}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name"}},[e._v("Name: ")]),n("input",{staticClass:"form-element",attrs:{type:"text",name:"name",id:"name",disabled:!e.editMode}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"email"}},[e._v("Email: ")]),n("input",{staticClass:"form-element",attrs:{type:"email",name:"email",id:"email",disabled:!e.editMode}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"primaryContact"}},[e._v(" Primary Contact: ")]),n("input",{staticClass:"form-element",attrs:{type:"text",name:"primaryContact",id:"primaryContact",disabled:!e.editMode}})]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"btn-panel"},[e.editMode?e._e():n("a",{staticClass:"link-unstyled btn btn-edit",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.edit.apply(null,arguments)}}},[e._v(" Edit ")]),e.editMode?n("a",{staticClass:"link-unstyled btn btn-save",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[e._v("Save")]):e._e(),e.editMode?n("a",{staticClass:"link-unstyled btn btn-cancel",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.cancelEdit.apply(null,arguments)}}},[e._v("Cancel")]):e._e()])])])])]),n("h2",[e._v("Address")]),n("div",{staticClass:"addressPanel"},[e._l(e.customer.address,(function(e){return n("AddressCard",{key:e._id,attrs:{address:e}})})),e._m(0)],2)])},Ha=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"add-address"},[n("i",{staticClass:"fas fa-plus"})])}],Ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"card",on:{click:function(t){return e.$emit("click")}}},[n("div",{staticClass:"line"},[n("div",{staticClass:"line1"},[e._v(" "+e._s(e.address.addressLine1)+", ")])]),n("div",{staticClass:"line"},[n("div",{staticClass:"line2"},[e._v(" "+e._s(e.address.addressLine2)+", ")])]),n("div",{staticClass:"line"},[e._v(" "+e._s(e.address.city)+", ")]),n("div",{staticClass:"line"},[e._v(" "+e._s(e.address.landmark)+" ")]),n("div",{staticClass:"line"},[e._v(" "+e._s(e.address.primaryContact)+" ")])])},Va=[],za={name:"AddressCard",props:["address"]},Ga=za,Ja=(n("761f"),Object(c["a"])(Ga,Ba,Va,!1,null,"7b458292",null)),Wa=Ja.exports,Za=function(){return Z({requiresAuth:!0}).get("/customer/")},Qa={name:"CustomerHome",components:{AddressCard:Wa},data:function(){return{form:{name:"",email:"",primaryContact:""},customer:{},editMode:!1}},created:function(){var e=this;Za().then((function(t){e.customer=t})).catch((function(t){e.$toast.error("".concat(t.message))}))},methods:{edit:function(){this.editMode=!this.editMode},cancelEdit:function(){this.editMode=!this.editMode},save:function(){}}},Ya=Qa,Ka=(n("8743"),Object(c["a"])(Ya,Ra,Ha,!1,null,"6a717dac",null)),Xa=Ka.exports,er=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},tr=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("h2",[e._v("Orders")])])}],nr={name:"CustomerOrders"},sr=nr,ar=(n("71fe"),Object(c["a"])(sr,er,tr,!1,null,"d492911a",null)),rr=ar.exports,ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"heading"},[n("a",{staticClass:"link-unstyled",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.back.apply(null,arguments)}}},[n("i",{staticClass:"fas fa-chevron-left"})]),n("h1",[e._v("Order Summary")])]),n("div",{staticClass:"summary"},e._l(e.cart.items,(function(e){return n("OrderItem",{key:e._id,attrs:{orderItem:e}})})),1),n("div",{staticClass:"select-address"},[n("h2",[e._v("Select an address")]),e._l(this.customer.address,(function(t){return n("AddressCard",{key:t._id,class:{addressSelected:t._id===e.selectedAddress},attrs:{address:t},on:{click:function(n){return e.selectAddress(t._id)}}},[e._v(" "+e._s(t.addressLine1)+" ")])}))],2),n("div",{staticClass:"btn-panel"},[n("a",{staticClass:"link-unstyled btn btn-cta",class:{disabled:e.processing},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.placeOrder.apply(null,arguments)}}},[n("span",[e._v(e._s(e.itemString)+" | ₹ "+e._s(e.cartTotal))]),e._v(" "+e._s(e.processing?"Processing Order":"Proceed to Pay")+" ")])])])},or=[],cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cart-item"},[n("div",{staticClass:"detail name"},[e._v(e._s(e.name))]),n("div",{staticClass:"details"},[n("div",{staticClass:"qty"},[n("span",[e._v("Qty: ")]),n("p",{staticClass:"value"},[e._v(e._s(e.quantity))])]),n("div",{staticClass:"price"},[e._v("₹ "+e._s(e.price))])])])},ur=[],lr={name:"OrderItem",props:["orderItem"],computed:{item:function(){return this.orderItem.item},name:function(){return this.item.name},quantity:function(){return this.orderItem.quantity},price:function(){return this.item.price*this.quantity}},methods:{}},mr=lr,dr=(n("9bd8"),Object(c["a"])(mr,cr,ur,!1,null,"ed35ec4e",null)),fr=dr.exports,pr=function(e){return Z({requiresAuth:!0}).post("/oms/",e,{withCredentials:!0})},vr={name:"OrderPage",components:{OrderItem:fr,AddressCard:Wa},title:"Order Summary",data:function(){return{selectedAddress:"",customer:{},processing:!1}},created:function(){var e=this;void 0===this.$store.getters.cart.items&&this.$store.dispatch({type:"loadSession"}),Za().then((function(t){e.customer=t})).catch((function(t){e.$toast.error("".concat(t.message))}))},methods:{back:function(){this.$router.push({name:"cart"})},selectAddress:function(e){console.log(e),this.selectedAddress=e},placeOrder:function(){var e=this;if(!this.processing){if(!this.selectedAddress)return this.$toast.info("Please select an address");var t=this.createOrder();this.processing=!0,pr(t).then((function(){return e.processing=!1,e.$router.push({name:"home"}),e.$toast.success("Order has been placed Successfully"),e.$store.dispatch({type:"loadSession"})})).catch((function(t){e.processing=!1,e.$toast.error("".concat(t.message))}))}},createOrder:function(){var e=this.cart.items.map((function(e){return{itemId:e.item._id,quantity:e.quantity}}));return{address:this.selectedAddress,items:e}}},computed:{cart:function(){return this.$store.getters.cart},cartItems:function(){return this.$store.getters.cartLength},itemString:function(){return 1===this.cartItems?"1 item":"".concat(this.cartItems," items")},cartTotal:function(){var e=0;return void 0!==this.$store.getters.cart.items&&this.$store.getters.cart.items.forEach((function(t){e+=t.item.price*t.quantity})),e}}},hr=vr,gr=(n("6217"),Object(c["a"])(hr,ir,or,!1,null,"7ff7b9f5",null)),Cr=gr.exports,_r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"message"},[e._v(" Sorry. This is going no where. Let start again "),n("router-link",{staticClass:"link",attrs:{to:{name:"home"}}},[e._v("Go Back")])],1)])},yr=[],$r={name:"PageNotFound",title:"Page Not Found"},br=$r,kr=(n("ad79"),Object(c["a"])(br,_r,yr,!1,null,"128bb598",null)),wr=kr.exports;s["a"].component("AdminDashboard",Be),s["a"].component("RestaurantManagement",Ct),s["a"].component("OrderManagement",At),s["a"].component("UserManagement",rn),s["a"].component("MenuView",Un),s["a"].component("RestaurantLogin",zn),s["a"].component("CustomerLogin",Yn),s["a"].component("CustomerRegistration",ss),s["a"].component("HomePage",Ks),s["a"].component("Cart",la),s["a"].component("CustomerDashboard",Fa),s["a"].component("CustomerHome",Xa),s["a"].component("CustomerOrders",rr),s["a"].component("OrderPage",Cr),s["a"].component("PageNotFound",wr);var Ir={requiresAdminAuth:!0,requiresCustAuth:!1},Or={requiresAdminAuth:!1,requiresCustAuth:!0},qr=new m["a"]({mode:"history",routes:[{name:"admin",path:"/admin/dashboard",component:Be,meta:Ir,children:[{name:"dashboard-home",path:"",meta:Ir},{name:"dashboard-orders",path:"orders",meta:Ir,component:At},{name:"dashboard-users",path:"users",meta:Ir,component:rn},{name:"dashboard-menus",path:"menus",meta:Ir,component:Ct},{name:"dashboard-menu-detail",path:"menus/:menuId",meta:Ir,component:Un}]},{name:"admin-login",path:"/admin/login",component:zn},{name:"customer-login",path:"/login",component:Yn},{name:"customer-registration",path:"/register",component:ss},{name:"home",path:"/",component:Ks},{name:"customer-login-checkout",path:"/login/:cart",component:Yn},{name:"customer-registration-checkout",path:"/register/:cart",component:ss},{name:"cart",path:"/cart",component:la},{name:"order",path:"/order/:cart",component:Cr,meta:Or},{name:"customer-dashboard",path:"/customer/dashboard",meta:Or,component:Fa,children:[{name:"customer-home",path:"",meta:Or,component:Xa},{name:"customer-orders",path:"orders",meta:Or,component:rr}]},{name:"page-not-found",path:"*",component:wr}]});qr.beforeEach((function(e,t,n){e.meta.requiresAdminAuth&&!fe.getters.isAuthenticated?n({name:"admin-login"}):e.meta.requiresCustAuth&&!fe.getters.isCustomerLoggedIn?"order"===e.name?n({name:"customer-login-checkout",params:Object(S["a"])({},e.params),query:{checkout:!0}}):n({name:"customer-login",params:e.params}):"customer-login"===e.name&&fe.getters.isCustomerLoggedIn?n({name:"customer-home",params:e.params,query:e.query}):"admin-login"===e.name&&fe.getters.isAuthenticated?n({name:"admin",params:e.params,query:e.query}):n()}));var xr=qr;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(l)},router:xr,store:fe}).$mount("#app")},"59f6":function(e,t,n){"use strict";n("9381")},"5ad6":function(e,t,n){"use strict";n("cc42")},"5b0d":function(e,t,n){},"5bad":function(e,t,n){"use strict";n("774a")},"5c3c":function(e,t,n){},"5f04":function(e,t,n){"use strict";n("d97e")},6217:function(e,t,n){"use strict";n("6f85")},6231:function(e,t,n){"use strict";n("902f")},"6ee7":function(e,t,n){"use strict";n("d689")},"6f85":function(e,t,n){},"71fb":function(e,t,n){"use strict";n("23a0")},"71fe":function(e,t,n){"use strict";n("8c78")},"761f":function(e,t,n){"use strict";n("ef5b")},"774a":function(e,t,n){},"7de7":function(e,t,n){},"7f46":function(e,t,n){},"7fa6":function(e,t,n){},"85ec":function(e,t,n){},8743:function(e,t,n){"use strict";n("14c6")},"8c78":function(e,t,n){},"8ed8":function(e,t,n){},"8eee":function(e,t,n){"use strict";n("02fc")},"902f":function(e,t,n){},9294:function(e,t,n){},9381:function(e,t,n){},"9bd8":function(e,t,n){"use strict";n("de53")},aa36:function(e,t,n){"use strict";n("be38")},aaef:function(e,t,n){"use strict";n("0a93")},abb7:function(e,t,n){},ad79:function(e,t,n){"use strict";n("5643")},adee:function(e,t,n){},af09:function(e,t,n){"use strict";n("b0c7")},b0c7:function(e,t,n){},b184:function(e,t,n){},b1e0:function(e,t,n){},b2f7:function(e,t,n){"use strict";n("b9b4")},b4f8:function(e,t,n){"use strict";n("05bb")},b6e9:function(e,t,n){"use strict";n("7de7")},b9b4:function(e,t,n){},bac3:function(e,t,n){"use strict";n("8ed8")},bdd8:function(e,t,n){},be38:function(e,t,n){},bf4e:function(e,t,n){"use strict";n("bdd8")},c36e:function(e,t,n){"use strict";n("cc81")},c696:function(e,t,n){"use strict";n("f3d0")},c794:function(e,t,n){"use strict";n("7f46")},cb65:function(e,t,n){},cc42:function(e,t,n){},cc81:function(e,t,n){},d689:function(e,t,n){},d97e:function(e,t,n){},da9c:function(e,t,n){},db9f:function(e,t,n){"use strict";n("50ad")},de20:function(e,t,n){},de53:function(e,t,n){},e1ec:function(e,t,n){"use strict";n("3318")},ef4f:function(e,t,n){},ef5b:function(e,t,n){},f05b:function(e,t,n){"use strict";n("46f6")},f3d0:function(e,t,n){},f597:function(e,t,n){"use strict";n("7fa6")},f926:function(e,t,n){"use strict";n("b184")}});
//# sourceMappingURL=app.e1cf41a6.js.map